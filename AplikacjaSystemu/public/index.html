<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Leave Request Process</title>
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <div class="app-container">
        <header>
            <h1>Academic Management System</h1>
            <div class="user-controls" id="userControls">
                <span id="userInfo">Not logged in</span>
                <button id="btnLogout" class="secondary-btn" style="display:none;">Logout</button>
            </div>
        </header>

        <main>
            <aside class="sidebar">
                <button id="btnNewRequest" class="primary-btn" style="display:none;">New Leave Request</button>

                <div class="section">
                    <h3>My Tasks <span id="taskCount" class="badge">0</span></h3>
                    <ul id="taskList" class="list-group"></ul>
                </div>

                <div class="section" id="adminSection" style="display:none;">
                    <h3>Admin Panel</h3>
                    <button class="secondary-btn" onclick="app.showAdminPanel()">Manage Users</button>
                    <ul id="requestList" class="list-group"></ul>
                </div>
            </aside>

            <section class="content-area">
                <div id="welcomeMessage" class="placeholder-content">
                    <h2>Welcome</h2>
                    <p>Select a task from the left or start a new request.</p>
                </div>

                <div id="adminPanel" class="hidden">
                    <h2>Manage Users</h2>
                    <div style="margin-bottom: 20px;">
                        <input type="text" id="userSearch" placeholder="Search by name or email..."
                            onkeyup="app.filterUsers()" style="padding: 8px; width: 300px;">
                        <button class="primary-btn"
                            onclick="document.getElementById('addUserModal').classList.remove('hidden')">Add
                            User</button>
                    </div>
                    <table class="user-table">
                        <thead>
                            <tr>
                                <th>Name / Email</th>
                                <th style="text-align: right;">Manage</th>
                            </tr>
                        </thead>
                        <tbody id="userListBody"></tbody>
                    </table>
                </div>

                <div id="formContainer" class="hidden">
                    <h2 id="formTitle">Task Name</h2>
                    <p id="formDescription">Task Description</p>

                    <div id="readOnlyData" class="data-grid"></div>

                    <form id="taskForm">
                        <div id="formFields"></div>
                        <div class="form-actions">
                            <button type="submit" class="primary-btn">Complete Task</button>
                        </div>
                    </form>
                </div>
            </section>
        </main>
    </div>

    <!-- Login Modal -->
    <div id="loginModal" class="modal-overlay">
        <div class="modal-content">
            <h2>Login</h2>
            <form id="loginForm">
                <div class="form-group">
                    <input type="text" id="loginUsername" placeholder="Username" required>
                </div>
                <div class="form-group">
                    <input type="password" id="loginPassword" placeholder="Password" required>
                </div>
                <button type="submit" class="primary-btn">Login</button>
            </form>
        </div>
    </div>

    <!-- Process Selection Modal -->
    <div id="processModal" class="modal-overlay hidden">
        <div class="modal-content">
            <h2>Select Process</h2>
            <div class="process-options">
                <div class="process-card" onclick="app.selectProcess('Decorations')">
                    <h3>Decorations and Medals</h3>
                    <p>Apply for employee decorations and medals.</p>
                </div>
                <div class="process-card" onclick="app.selectProcess('EmploymentConditions')">
                    <h3>Change Employment Conditions</h3>
                    <p>Request changes to employment terms.</p>
                </div>
            </div>
            <button class="close-btn" onclick="app.closeModal()">Cancel</button>
        </div>
    </div>

    <!-- Add User Modal -->
    <div id="addUserModal" class="modal-overlay hidden">
        <div class="modal-content">
            <h3>Add New User</h3>
            <form id="addUserForm">
                <div class="form-group">
                    <label>Full Name</label>
                    <input type="text" name="fullName" required placeholder="John Doe">
                </div>
                <div class="form-group">
                    <label>Email (Username)</label>
                    <input type="email" name="username" required placeholder="john.doe@university.pl">
                </div>
                <div class="form-group">
                    <label>Role</label>
                    <select name="role">
                        <option value="Employee">Employee</option>
                        <option value="OU">OU</option>
                        <option value="PD">PD</option>
                        <option value="KWE">KWE</option>
                        <option value="PRK">PRK</option>
                        <option value="PRN">PRN</option>
                        <option value="Rector">Rector</option>
                        <option value="Chancellor">Chancellor</option>
                        <option value="MPD">MPD</option>
                        <option value="Admin">Admin</option>
                    </select>
                </div>
                <div class="form-group">
                    <label>Position</label>
                    <input type="text" name="position" placeholder="e.g. Lecturer">
                </div>
                <div class="form-group">
                    <label>Academic Teacher?</label>
                    <input type="checkbox" name="isAcademic">
                </div>
                <div class="form-actions">
                    <button type="submit" class="primary-btn">Create User</button>
                    <button type="button" class="secondary-btn"
                        onclick="document.getElementById('addUserModal').classList.add('hidden')">Cancel</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Change Password Modal -->
    <div id="passwordModal" class="modal-overlay hidden">
        <div class="modal-content">
            <h3>Change Password</h3>
            <form id="changePasswordForm">
                <div class="form-group">
                    <label>Old Password</label>
                    <input type="password" id="oldPass" required>
                </div>
                <div class="form-group">
                    <label>New Password</label>
                    <input type="password" id="newPass" required>
                </div>
                <div class="form-actions">
                    <button type="submit" class="primary-btn">Update Password</button>
                    <button type="button" class="secondary-btn"
                        onclick="document.getElementById('passwordModal').classList.add('hidden')">Cancel</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Manage User Modal -->
    <div id="manageUserModal" class="modal-overlay hidden">
        <div class="modal-content">
            <h3 id="manageUserTitle">Manage User</h3>
            <form id="manageUserForm">
                <input type="hidden" name="userId" id="manageUserId">
                <div class="form-group">
                    <label>Role</label>
                    <select name="role" id="manageUserRole">
                        <option value="Employee">Employee</option>
                        <option value="OU">OU</option>
                        <option value="PD">PD</option>
                        <option value="KWE">KWE</option>
                        <option value="PRK">PRK</option>
                        <option value="PRN">PRN</option>
                        <option value="Rector">Rector</option>
                        <option value="Chancellor">Chancellor</option>
                        <option value="MPD">MPD</option>
                        <option value="Admin">Admin</option>
                    </select>
                </div>
                <div class="form-group">
                    <label>Position</label>
                    <input type="text" id="manageUserPosition" placeholder="Job Position">
                </div>
                <div class="form-group">
                    <label>Account Status</label>
                    <div style="display: flex; align-items: center; gap: 10px;">
                        <input type="checkbox" id="manageUserActive" style="width: auto;">
                        <span>Active Account</span>
                    </div>
                </div>
                <div class="form-group">
                    <label>Actions</label>
                    <button type="button" class="secondary-btn" id="btnResetUserPass" style="width:100%">Reset Password
                        to Default</button>
                    <small>Default: FirstNameLastName123@</small>
                </div>
                <div class="form-actions">
                    <button type="submit" class="primary-btn">Save Changes</button>
                    <button type="button" class="secondary-btn"
                        onclick="document.getElementById('manageUserModal').classList.add('hidden')">Close</button>
                </div>
            </form>
        </div>
    </div>

    <script src="app.js"></script>
</body>

</html>